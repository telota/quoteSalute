webpackJsonp([1],{"+7O9":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"biblData"},[s("b-container",[s("b-row",[s("b-col",[s("h3",[e._v(e._s(e.label.bibInfo))]),e._v("\n        "+e._s(e.label.step2Desc)+"\n      ")])],1),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",e._l(e.bibl,function(t){return s("b-card",{key:t.id,staticClass:"mb-2"},[e.bibl.length>1?s("b-row",{attrs:{"align-h":"end"}},[s("b-col",{attrs:{cols:"1"}},[s("b-button",{staticClass:"w-100 mb-2",attrs:{size:"sm"},on:{click:function(s){e.rmBiblItem(t.id)}}},[s("i",{staticClass:"fa fa-trash-alt"})])],1)],1):e._e(),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.bibType,"label-for":"biblType"}},[s("b-form-select",{attrs:{id:"biblType",state:e.state(t,"type")},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"item.type"}},[s("option",{domProps:{value:null}},[e._v(e._s(e.label.selectBibType))]),e._v(" "),s("option",{attrs:{value:"online"}},[e._v(e._s(e.label.bibTypeOnline))]),e._v(" "),s("option",{attrs:{value:"print"}},[e._v(e._s(e.label.bibTypePrint))])])],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.bibTitle,"label-for":"biblText"}},[s("b-form-textarea",{attrs:{id:"biblText",rows:3,"max-rows":3,state:e.state(t,"text")},model:{value:t.text,callback:function(s){e.$set(t,"text",s)},expression:"item.text"}})],1),e._v(" "),"online"===t.type?s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.bibUrl,"label-for":"biblUrl"}},[s("b-form-input",{attrs:{id:"biblUrl",size:"sm",state:e.state(t,"url")},model:{value:t.url,callback:function(s){e.$set(t,"url",s)},expression:"item.url"}})],1):e._e()],1)}))],1),e._v(" "),s("b-row",[s("b-col",[s("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:e.addBiblItem}},[s("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(e.label.addBib)+"\n        ")])],1)],1)],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},"1/oy":function(e,t){},"8Mze":function(e,t,s){"use strict";var r=s("gDWM"),a=s("XjZf"),c=s("VU/8"),i=c(r.a,a.a,!1,null,null,null);t.a=i.exports},"9M+g":function(e,t){},AfhI:function(e,t,s){"use strict";var r=s("PDg0"),a=s("+7O9"),c=s("VU/8"),i=c(r.a,a.a,!1,null,null,null);t.a=i.exports},EybB:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"correspDescData"},[s("b-container",[s("b-row",[s("b-col",[s("h2",[e._v(e._s(e.label.letterRecords))]),e._v("\n        "+e._s(e.label.step3Desc)+"\n      ")])],1),e._v(" "),s("b-row",{staticClass:"mt-3"},[s("b-col",[e.collapsed?s("b-button",{attrs:{size:"sm"},on:{click:e.toggleAll}},[s("i",{staticClass:"fa fa-angle-double-right"}),e._v(" "+e._s(e.label.expandAll)+"\n        ")]):e._e(),e._v(" "),e.collapsed?e._e():s("b-button",{attrs:{size:"sm"},on:{click:e.toggleAll}},[s("i",{staticClass:"fa fa-angle-double-down"}),e._v(" "+e._s(e.label.collapseAll)+"\n        ")])],1),e._v(" "),s("b-col",[s("b-pagination",{attrs:{align:"center",size:"sm","total-rows":e.correspDesc.length,"per-page":10},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),e._v(" "),s("b-col",[s("b-input-group",{attrs:{size:"sm",prepend:"Filter"}},[s("b-form-select",{attrs:{options:e.filter.options},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}}),e._v(" "),s("b-form-input",{model:{value:e.filter.text,callback:function(t){e.$set(e.filter,"text",t)},expression:"filter.text"}})],1)],1)],1),e._v(" "),s("b-row",[s("b-col",{attrs:{role:"tablist"}},e._l(e.filteredCorrespDesc,function(t,r){return s("b-card",{key:t.id,staticClass:"mb-2",attrs:{"no-body":""}},[s("b-card-header",{staticClass:"bg-white border-0",attrs:{"header-tag":"header",role:"tab"}},[s("b-row",[s("b-col",{attrs:{cols:"1"}},[s("b-button-toolbar",[s("b-button-group",[s("b-button",{staticClass:"border-right",class:t.visible?"collapsed":null,attrs:{"aria-controls":"collapse"+r,"aria-expanded":t.visible?"true":"false",size:"sm"},on:{click:function(e){t.visible=!t.visible}}},[s("i",{staticClass:"fa",class:t.visible?"fa-angle-up":"fa-angle-down"})]),e._v(" "),s("b-button",{staticClass:"border-left",attrs:{size:"sm"},on:{click:function(s){e.rmCorrespDescItem(t.id)}}},[s("i",{staticClass:"fa fa-trash-alt"})])],1)],1)],1),e._v(" "),s("b-col",{staticClass:"float-left",domProps:{innerHTML:e._s(t.header)}})],1)],1),e._v(" "),s("b-collapse",{attrs:{id:"collapse"+r,role:"tabpanel"},model:{value:t.visible,callback:function(s){e.$set(t,"visible",s)},expression:"item.visible"}},[s("b-card-body",[s("b-form-group",{staticClass:"mb-1",attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.key,"label-for":"correspDescKey"}},[s("b-form-input",{attrs:{id:"correspDescKey",size:"sm"},on:{input:function(s){e.setHeader(t.id)}},model:{value:t.key,callback:function(s){e.$set(t,"key",s)},expression:"item.key"}})],1),e._v(" "),s("b-row",[s("b-col",{attrs:{sm:"2"}}),e._v(" "),s("b-col",{staticClass:"p-px-11"},[s("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:function(e){t.refHidden=!t.refHidden}}},[s("i",{staticClass:"fa",class:t.refHidden?"fa-angle-down":"fa-angle-up"}),e._v(" "+e._s(e.label.urlToXml)+"\n                  ")])],1)],1),e._v(" "),t.refHidden?e._e():s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.urlToXml,"label-for":"correspDescRef"}},[s("b-form-input",{attrs:{id:"correspDescRef",size:"sm",type:"url",state:e.state("urlToXml",t.id)},model:{value:t.ref,callback:function(s){e.$set(t,"ref",s)},expression:"item.ref"}})],1),e._v(" "),""!==e.$parent.biblData[0].text?s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.bibliography,"label-for":"correspDescBibl"}},[s("b-form-select",{attrs:{size:"sm"},model:{value:t.bibl,callback:function(s){e.$set(t,"bibl",s)},expression:"item.bibl"}},e._l(e.$parent.biblData,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                          "+e._s(String(t.text).length>100?String(t.text).slice(0,100)+" ...":t.text)+"\n                  ")])}))],1):e._e(),e._v(" "),s("b-row",e._l(e.type,function(r,a){return s("b-col",{key:a},[s("h3",[e._v(e._s(e.label[r]))]),e._v(" "),e._l(t[r].persName,function(a,c){return s("b-card",{key:c,staticClass:"mb-2",attrs:{"no-body":""}},[s("b-card-header",[s("b-row",{attrs:{"align-h":"between"}},[s("b-col",{attrs:{cols:"2"}},[t[r].persName.length>1?s("b-button",{attrs:{size:"sm"},on:{click:function(s){e.rmPerson(r,t.id,c)}}},[s("i",{staticClass:"fa fa-trash-alt"})]):e._e()],1),e._v(" "),s("b-col",{staticClass:"text-right"},[s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"Uncertain"+t.id+c,value:"true","unchecked-value":"false"},model:{value:a.uncertain,callback:function(t){e.$set(a,"uncertain",t)},expression:"s.uncertain"}},[e._v(e._s(e.label.conjecture))]),e._v(" "),s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"Conjecture"+t.id+c,value:"true","unchecked-value":"false"},model:{value:a.conjecture,callback:function(t){e.$set(a,"conjecture",t)},expression:"s.conjecture"}},[e._v(e._s(e.label.uncertain))])],1)],1)],1),e._v(" "),s("b-card-body",[s("b-form-group",{staticClass:"labelOnTop",attrs:{"label-size":"sm",label:e.label.name,"label-for":r+"PersName"+c}},[s("b-form-input",{attrs:{id:r+"PersName"+c,size:"sm"},on:{input:function(s){e.setHeader(t.id)}},nativeOn:{blur:function(s){e.addPersonToPool(r,t.id,c)},keyup:function(s){e.onInput(r,t.id,c)},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;a.open=!1},function(s){if(!("button"in s)&&e._k(s.keyCode,"down",40,s.key,["Down","ArrowDown"]))return null;e.moveDown(r,t.id,c)},function(s){if(!("button"in s)&&e._k(s.keyCode,"up",38,s.key,["Up","ArrowUp"]))return null;e.moveUp(r,t.id,c)},function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.select(r,t.id,c)}]},model:{value:a.text,callback:function(t){e.$set(a,"text",t)},expression:"s.text"}})],1),e._v(" "),a.open?s("b-list-group",e._l(e.filterNames(r,t.id,c),function(i,o){return s("b-list-group-item",{key:o,class:{highlighted:o===a.highlighted},attrs:{button:""},on:{mousedown:function(s){e.select(r,t.id,c)},mouseenter:function(e){a.highlighted=o}}},[e._v("\n                            "+e._s(i)+"\n                        ")])})):e._e(),e._v(" "),s("b-form-group",{staticClass:"labelOnTop",attrs:{"label-size":"sm",label:e.label[r+"Authority"],"label-for":r+"PersID"+t.id+c}},[s("b-input-group",[s("b-form-input",{attrs:{id:r+"PersID"+t.id+c,size:"sm",state:e.state(r+"Authority",t.id,c)},nativeOn:{blur:function(s){e.addPersNorm(r,t.id,c)}},model:{value:a.ref,callback:function(t){e.$set(a,"ref",t)},expression:"s.ref"}}),e._v(" "),s("b-input-group-append",[s("b-btn",{staticClass:"text-white",attrs:{variant:"secondary",href:"http://swb.bsz-bw.de/DB=2.104/CMD?retrace=0&trm_old=&ACT=SRCHA&IKT=2088&SRT=RLV&TRM="+String(a.text).replace(" ","+")+"&MATCFILTER=N&MATCSET=N&NOABS=Y&SHRTST=50",disabled:""===a.text,target:"_blank"}},[s("i",{staticClass:"fa fa-address-card"})])],1)],1)],1),e._v(" "),s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"Organisation"+t.id+c,value:"true","unchecked-value":"false"},on:{input:function(s){e.addOrg(r,t.id,c)}},model:{value:a.organisation,callback:function(t){e.$set(a,"organisation",t)},expression:"s.organisation"}},[e._v(e._s(e.label.org))])],1)],1)}),e._v(" "),s("b-button",{staticClass:"mt-1",attrs:{size:"sm",variant:"secondary"},on:{click:function(s){e.addPerson(r,t.id)}}},[s("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(e.label["add"+r.charAt(0).toUpperCase()+r.slice(1)])+"\n                  ")]),e._v(" "),s("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[s("b-card-header",{staticClass:"text-right"},[s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"PlaceUncertain"+t.id,value:"true","unchecked-value":"false"},model:{value:t[r].placeName.uncertain,callback:function(s){e.$set(t[r].placeName,"uncertain",s)},expression:"item[type].placeName.uncertain"}},[e._v(e._s(e.label.conjecture))]),e._v(" "),s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"PlaceConjecture"+t.id,value:"true","unchecked-value":"false"},model:{value:t[r].placeName.conjecture,callback:function(s){e.$set(t[r].placeName,"conjecture",s)},expression:"item[type].placeName.conjecture"}},[e._v(e._s(e.label.uncertain))])],1),e._v(" "),s("b-card-body",[s("b-form-group",{staticClass:"labelOnTop mt-2",attrs:{"label-size":"sm",label:e.label.place,"label-for":r+"Place"+t.id}},[s("b-form-input",{attrs:{id:r+"Place"+t.id,size:"sm"},nativeOn:{blur:function(s){e.addPlaceToPool(r,t.id,0,!0)},keyup:function(s){e.onInput(r,t.id,0,!0)},keydown:[function(s){if(!("button"in s)&&e._k(s.keyCode,"esc",27,s.key,"Escape"))return null;t[r].placeName.open=!1},function(s){if(!("button"in s)&&e._k(s.keyCode,"down",40,s.key,["Down","ArrowDown"]))return null;e.moveDown(r,t.id,0,!0)},function(s){if(!("button"in s)&&e._k(s.keyCode,"up",38,s.key,["Up","ArrowUp"]))return null;e.moveUp(r,t.id,0,!0)},function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.select(r,t.id,0,!0)}]},model:{value:t[r].placeName.text,callback:function(s){e.$set(t[r].placeName,"text",s)},expression:"item[type].placeName.text"}})],1),e._v(" "),t[r].placeName.open?s("b-list-group",e._l(e.filterNames(r,t.id,0,!0),function(a,c){return s("b-list-group-item",{key:c,class:{highlighted:c===t[r].placeName.highlighted},attrs:{button:""},on:{mousedown:function(s){e.select(r,t.id,0,!0)},mouseenter:function(e){t[r].placeName.highlighted=c}}},[e._v("\n                            "+e._s(a)+"\n                        ")])})):e._e(),e._v(" "),s("b-form-group",{staticClass:"labelOnTop",attrs:{"label-size":"sm",label:e.label.placeAuthority,"label-for":r+"PlaceID"+t.id}},[s("b-input-group",[s("b-form-input",{ref:r+"PlaceID"+t.id,refInFor:!0,attrs:{id:r+"PlaceID"+t.id,size:"sm",state:e.state(r+"PlaceAuthority",t.id)},nativeOn:{blur:function(s){e.addPlaceNorm(r,t.id),t[r].placeName.geo.open=!1},keydown:function(s){if(!("button"in s)&&e._k(s.keyCode,"esc",27,s.key,"Escape"))return null;t[r].placeName.geo.open=!1}},model:{value:t[r].placeName.ref,callback:function(s){e.$set(t[r].placeName,"ref",s)},expression:"item[type].placeName.ref"}}),e._v(" "),s("b-input-group-append",[s("b-btn",{staticClass:"text-white",attrs:{variant:"secondary",disabled:""===t[r].placeName.text},on:{click:function(s){e.getGeodata(r,t.id)}}},[s("i",{staticClass:"fa fa-globe"})])],1)],1)],1),e._v(" "),t[r].placeName.geo.open?s("b-list-group",e._l(t[r].placeName.geo.suggestions,function(a,c){return s("b-list-group-item",{key:c,class:{highlighted:c===t[r].placeName.geo.highlighted},attrs:{button:""},on:{mousedown:function(s){e.selectGeoname(r,t.id,a)},mouseenter:function(e){t[r].placeName.geo.highlighted=c}}},[e._v("\n                            "+e._s(a.name)+", "+e._s(a.adminName1)+" ("+e._s(a.countryCode)+")\n                        ")])})):e._e()],1)],1),e._v(" "),s("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[s("b-card-header",[s("b-row",[s("b-col",{attrs:{cols:"nba"===t[r].date||"na"===t[r].date||""===t[r].date?"12":"5"}},[s("b-form-select",{attrs:{size:"sm"},model:{value:t[r].date,callback:function(s){e.$set(t[r],"date",s)},expression:"item[type].date"}},[s("option",{attrs:{value:""}},[e._v(e._s(e.label.dateForm))]),e._v(" "),s("option",{attrs:{value:"when"}},[e._v(e._s(e.label.dateWhen))]),e._v(" "),s("option",{attrs:{value:"nba"}},[e._v(e._s(e.label.dateNba))]),e._v(" "),s("option",{attrs:{value:"span"}},[e._v(e._s(e.label.dateSpan))]),e._v(" "),s("option",{attrs:{value:"na"}},[e._v(e._s(e.label.noDate))])])],1),e._v(" "),"nba"!==t[r].date&&"na"!==t[r].date&&""!==t[r].date?s("b-col",{staticClass:"text-right",attrs:{cols:"nba"===t[r].date||"na"===t[r].date||""===t[r].date?"0":"7"}},[s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"DateUncertain"+t.id,value:"true","unchecked-value":"false"},model:{value:t[r].dateCert.uncertain,callback:function(s){e.$set(t[r].dateCert,"uncertain",s)},expression:"item[type].dateCert.uncertain"}},[e._v(e._s(e.label.conjecture))]),e._v(" "),s("b-form-checkbox",{staticClass:"labelOnTop",attrs:{id:r+"DateConjecture"+t.id,value:"true","unchecked-value":"false"},model:{value:t[r].dateCert.conjecture,callback:function(s){e.$set(t[r].dateCert,"conjecture",s)},expression:"item[type].dateCert.conjecture"}},[e._v(e._s(e.label.uncertain))])],1):e._e()],1)],1),e._v(" "),s("b-card-body",[s("b-alert",{attrs:{variant:"warning",show:""===t[r].date,size:"sm"}},[e._v("\n                      "+e._s(e.label.selectDateForm)+"\n                      ")]),e._v(" "),"when"===t[r].date?s("b-form-group",{staticClass:"labelOnTop",attrs:{description:"YYYY-MM-DD"}},[s("b-form-input",{attrs:{size:"sm",id:r+"DateWhen"+t.id,state:e.state("when"+r.charAt(0).toUpperCase()+r.slice(1),t.id)},model:{value:t[r].when,callback:function(s){e.$set(t[r],"when",s)},expression:"item[type].when"}})],1):e._e(),e._v(" "),"nba"===t[r].date?s("b-form-group",{staticClass:"labelOnTop",attrs:{description:"YYYY-MM-DD",label:e.label.dateNb,"label-for":r+"DateNb"+t.id}},[s("b-form-input",{attrs:{size:"sm",id:r+"DateNb"+t.id,state:e.state("notBefore"+r.charAt(0).toUpperCase()+r.slice(1),t.id)},model:{value:t[r].notBefore,callback:function(s){e.$set(t[r],"notBefore",s)},expression:"item[type].notBefore"}})],1):e._e(),e._v(" "),"nba"===t[r].date?s("b-form-group",{staticClass:"labelOnTop",attrs:{description:"YYYY-MM-DD",label:e.label.dateNa,"label-for":r+"DateNa"+t.id}},[s("b-form-input",{attrs:{size:"sm",id:r+"DateNa"+t.id,state:e.state("notAfter"+r.charAt(0).toUpperCase()+r.slice(1),t.id)},model:{value:t[r].notAfter,callback:function(s){e.$set(t[r],"notAfter",s)},expression:"item[type].notAfter"}})],1):e._e(),e._v(" "),"span"===t[r].date?s("b-form-group",{staticClass:"labelOnTop",attrs:{description:"YYYY-MM-DD",label:e.label.from,"label-for":r+"DateFrom"+t.id}},[s("b-form-input",{attrs:{size:"sm",id:r+"DateFrom"+t.id,state:e.state("spanFrom"+r.charAt(0).toUpperCase()+r.slice(1),t.id)},model:{value:t[r].spanFrom,callback:function(s){e.$set(t[r],"spanFrom",s)},expression:"item[type].spanFrom"}})],1):e._e(),e._v(" "),"span"===t[r].date?s("b-form-group",{staticClass:"labelOnTop",attrs:{description:"YYYY-MM-DD",label:e.label.to,"label-for":r+"DateTo"+t.id}},[s("b-form-input",{attrs:{size:"sm",id:r+"DateTo"+t.id,state:e.state("spanTo"+r.charAt(0).toUpperCase()+r.slice(1),t.id)},model:{value:t[r].spanTo,callback:function(s){e.$set(t[r],"spanTo",s)},expression:"item[type].spanTo"}})],1):e._e(),e._v(" "),s("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:function(e){t[r].dateAsTextHidden=!t[r].dateAsTextHidden}}},[s("i",{staticClass:"fa",class:t[r].dateAsTextHidden?"fa-angle-down":"fa-angle-up"}),e._v(" "+e._s(e.label.dateText)+"\n                      ")]),e._v(" "),t[r].dateAsTextHidden?e._e():s("b-form-input",{attrs:{size:"sm",id:r+"DateText"+t.id},model:{value:t[r].dateAsText,callback:function(s){e.$set(t[r],"dateAsText",s)},expression:"item[type].dateAsText"}})],1)],1)],2)}))],1)],1)],1)}))],1),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[e.collapsed?s("b-button",{attrs:{size:"sm"},on:{click:e.toggleAll}},[s("i",{staticClass:"fa fa-angle-double-right"}),e._v(" "+e._s(e.label.expandAll)+"\n        ")]):e._e(),e._v(" "),e.collapsed?e._e():s("b-button",{attrs:{size:"sm"},on:{click:e.toggleAll}},[s("i",{staticClass:"fa fa-angle-double-down"}),e._v(" "+e._s(e.label.collapseAll)+"\n        ")])],1),e._v(" "),s("b-col",[s("b-pagination",{staticClass:"mb-0",attrs:{align:"center",size:"sm","total-rows":e.correspDesc.length,"per-page":10},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),e._v(" "),s("b-col",[s("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"secondary"},on:{click:e.addCorrespDescItem}},[s("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(e.label.addCdItem)+"\n        ")])],1)],1)],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},Id91:function(e,t){},JpHu:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"metaData"},[s("b-container",[s("b-row",[s("b-col",[s("h3",[e._v(e._s(e.label.metaData))]),e._v("\n        "+e._s(e.label.step1Desc)+"\n      ")])],1),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.title+"*","label-for":"title"}},[s("b-form-input",{attrs:{id:"title",size:"sm",state:e.state("title")},model:{value:e.meta.title,callback:function(t){e.$set(e.meta,"title",t)},expression:"meta.title"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.editor+"*","label-for":"editor"}},[s("b-form-input",{attrs:{id:"editor",size:"sm",state:e.state("editor","name")},model:{value:e.meta.editor.name,callback:function(t){e.$set(e.meta.editor,"name",t)},expression:"meta.editor.name"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.editorEmail+"*","label-for":"editorEmail"}},[s("b-form-input",{attrs:{id:"editorEmail",size:"sm",state:e.state("editor","email"),type:"email"},model:{value:e.meta.editor.email,callback:function(t){e.$set(e.meta.editor,"email",t)},expression:"meta.editor.email"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.publisher+"*","label-for":"publisher"}},[s("b-form-input",{attrs:{id:"publisher",size:"sm",state:e.state("publisher","name")},model:{value:e.meta.publisher.name,callback:function(t){e.$set(e.meta.publisher,"name",t)},expression:"meta.publisher.name"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.publisherWebsite,"label-for":"publisherWebsite"}},[s("b-form-input",{attrs:{id:"publisherWebsite",size:"sm",type:"url"},model:{value:e.meta.publisher.url,callback:function(t){e.$set(e.meta.publisher,"url",t)},expression:"meta.publisher.url"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.urlToXml,"label-for":"urlToXml"}},[s("b-form-input",{attrs:{id:"urlToXml",size:"sm",type:"url"},model:{value:e.meta.url,callback:function(t){e.$set(e.meta,"url",t)},expression:"meta.url"}})],1),e._v(" "),s("b-form-group",{attrs:{horizontal:"","label-cols":2,"label-size":"sm",label:e.label.licence+"*","label-for":"licence"}},[s("b-form-select",{attrs:{options:e.licenceOptions,size:"sm",state:e.state("licence")},model:{value:e.meta.licence,callback:function(t){e.$set(e.meta,"licence",t)},expression:"meta.licence"}})],1)],1)],1)],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},M93x:function(e,t,s){"use strict";function r(e){s("WZIh")}var a=s("xJD8"),c=s("t9NC"),i=s("VU/8"),o=r,n=i(a.a,c.a,!1,o,null,null);t.a=n.exports},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("qb6w"),a=(s.n(r),s("9M+g")),c=(s.n(a),s("7+uW")),i=s("e6fC"),o=s("M93x");c.a.use(i.a),c.a.config.productionTip=!1,new c.a({el:"#app",template:"<App/>",components:{App:o.a}})},PDg0:function(e,t,s){"use strict";t.a={name:"biblData",props:{labels:{type:Object,default:function(){return{}}},biblData:{type:Array,twoWays:!0,default:function(){return{id:0,uuid:"",type:null,url:"",text:"",selected:""}}}},data:function(){return{label:this.labels,nextKey:1,bibl:this.biblData}},methods:{state:function(e,t){var s=!1;return"url"===t?s=""!==e.url?this.$parent.check("url",e.url):null:""!==e[t]&&null!==e[t]&&(s=!0),s},addBiblItem:function(){this.bibl.push({id:this.nextKey,uuid:this.uuid(),type:null,url:"",text:"",selected:""}),this.nextKey+=1},rmBiblItem:function(e){for(var t=0;t<this.bibl.length;t+=1)e===this.bibl[t].id&&this.bibl.splice(t,1)},uuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},mounted:function(){this.bibl[0].uuid=""===this.bibl[0].uuid?this.uuid():this.bibl[0].uuid}}},Pjk3:function(e,t,s){"use strict";t.a={name:"metaData",props:{labels:{type:Object,default:function(){return{}}},metaData:{type:Object,twoWays:!0,default:function(){return{title:"",editor:{name:"",email:""},publisher:{name:"",url:""},url:"",licence:""}}}},data:function(){return{label:this.labels,licenceOptions:[{value:"CC0",text:"CC0"},{value:"CC-BY 4.0",text:"CC-BY 4.0"}],meta:this.metaData}},methods:{state:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=!1;return s=""===t?""!==this.meta[e]:"email"===t?this.$parent.check("email",this.meta[e].email):""!==this.meta[e][t],s}},computed:{}}},Pz0K:function(e,t,s){"use strict";t.a={name:"correspDescData",data:function(){return{label:this.labels,page:1,filter:{type:"name",text:"",options:[{value:"name",text:"by Name"},{value:"place",text:"by Place"},{value:"date",text:"by Date"},{value:"key",text:"by Key"}]},type:["sender","receiver"],collapsed:!1,nextKey:this.correspDescData.length>1?this.correspDescData.length:1,correspDesc:this.correspDescData,persons:this.pArrays.persons,places:this.pArrays.places}},props:{labels:{type:Object,default:function(){return{}}},pArrays:{type:Object,twoWays:!0,default:function(){return{persons:[],places:[]}}},correspDescData:{type:Array,twoWays:!0,default:function(){return{id:0,visible:!0,header:"",ref:"",refHidden:!0,key:"",bibl:0,sender:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:0,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0},receiver:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:0,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0}}}}},methods:{state:function(e,t,s){var r=this.getRealKey(t);return"urlToXml"===e&&""!==this.correspDesc[r].ref?this.$parent.check("url",this.correspDesc[r].ref):"senderAuthority"!==e&&"receiverAuthority"!==e||""===this.correspDesc[r][e.replace("Authority","")].persName[s].ref?"senderPlaceAuthority"!==e&&"receiverPlaceAuthority"!==e||""===this.correspDesc[r][e.replace("PlaceAuthority","")].placeName.ref?(e.includes("when")||e.includes("notBefore")||e.includes("notAfter")||e.includes("spanFrom")||e.includes("spanTo"))&&""!==this.correspDesc[r][e.includes("Sender")?"sender":"receiver"][e.replace(/Receiver|Sender/g,"")]?this.$parent.check("date",this.correspDesc[r][e.includes("Sender")?"sender":"receiver"][e.replace(/Receiver|Sender/g,"")]):null:this.$parent.check("place",this.correspDesc[r][e.replace("PlaceAuthority","")].placeName.ref):this.$parent.check("person",this.correspDesc[r][e.replace("Authority","")].persName[s].ref)},setHeader:function(e){var t=this.getRealKey(e);this.correspDesc[t].header=this.correspDesc[t].key?'<span class="badge badge-info mr-1">'+this.correspDesc[t].key+"</span>":"",this.correspDesc[t].header+=this.correspDesc[t].sender.persName[0].text?'<span class="badge badge-secondary mr-1">'+this.label.headBy+'</span><small class="mr-2 ml-1">'+this.correspDesc[t].sender.persName[0].text+"</small>":"",this.correspDesc[t].header+=this.correspDesc[t].receiver.persName[0].text?'<span class="badge badge-secondary mr-1">'+this.label.headTo+'</span><small class="mr-2 ml-1">'+this.correspDesc[t].receiver.persName[0].text+"</small>":""},getRealKey:function(e){for(var t=0;t<this.correspDesc.length;t+=1)if(this.correspDesc[t].id===e)return t;return 0},getGeodata:function(e,t){var s=this,r=this.getRealKey(t),a=new XMLHttpRequest,c="";a.open("GET","http://api.geonames.org/searchJSON?q="+this.correspDesc[r][e].placeName.text+"&featureClass=P&maxRows=10&username=cosea"),a.onload=function(){200===a.status?(c=JSON.parse(a.responseText),s.correspDesc[r][e].placeName.geo.suggestions=c.geonames,s.correspDesc[r][e].placeName.geo.all=c.totalResultsCount,c.totalResultsCount>0&&(s.correspDesc[r][e].placeName.geo.open=!0),s.$nextTick(function(){s.$refs[e+"PlaceID"+t][0].$el.focus()})):console.info(a.status)},a.send()},selectGeoname:function(e,t,s){for(var r=this.getRealKey(t),a=0;a<this.places.length;a+=1)this.places[a].text===this.correspDesc[r][e].placeName.text&&(this.places[a].text=s.name,this.places[a].ref="http://www.geonames.org/"+s.geonameId);this.correspDesc[r][e].placeName.text=s.name,this.correspDesc[r][e].placeName.ref="http://www.geonames.org/"+s.geonameId,this.correspDesc[r][e].placeName.geo.suggestions=[],this.correspDesc[r][e].placeName.geo.open=!1,this.correspDesc[r][e].placeName.geo.highlighted=0,this.correspDesc[r][e].placeName.selected=!0},filterNames:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.getRealKey(t),c=[];if(r){if(this.correspDesc[a][e].placeName.text)for(var i=this.correspDesc[a][e].placeName.text,o=new RegExp(i,"i"),n=0;n<this.places.length;n+=1)void 0!==this.places[n].text&&this.places[n].text.match(o)&&c.push(this.places[n].text)}else for(var l=this.correspDesc[a][e].persName[s].text,p=new RegExp(l,"i"),d=0;d<this.persons.length;d+=1)this.persons[d].text.match(p)&&c.push(this.persons[d].text);return c},addOrg:function(e,t,s){var r=this,a=this.getRealKey(t);if(this.correspDesc[a][e].persName[s].text)for(var c=0;c<this.persons.length;c+=1)this.persons[c].text===this.correspDesc[a][e].persName[s].text&&(this.persons[c].org=this.correspDesc[a][e].persName[s].organisation);if(this.correspDesc[a][e].persName[s].text)for(var i=0;i<this.correspDesc.length;i+=1)!function(t){r.type.forEach(function(c){for(var i=0;i<r.correspDesc[t][c].persName.length;i+=1)r.correspDesc[t][c].persName[i].text===r.correspDesc[a][e].persName[s].text&&(r.correspDesc[t][c].persName[i].organisation=r.correspDesc[a][e].persName[s].organisation)})}(i)},addPersNorm:function(e,t,s){var r=this,a=this.getRealKey(t);if(""!==this.correspDesc[a][e].persName[s].text&&""!==this.correspDesc[a][e].persName[s].ref)for(var c=0;c<this.persons.length;c+=1)if(this.persons[c].text===this.correspDesc[a][e].persName[s].text&&this.persons[c].ref!==this.correspDesc[a][e].persName[s].ref){this.persons[c].ref=this.correspDesc[a][e].persName[s].ref;break}if(this.correspDesc[a][e].persName[s].text)for(var i=0;i<this.correspDesc.length;i+=1)!function(t){r.type.forEach(function(c){for(var i=0;i<r.correspDesc[t][c].persName.length;i+=1)r.correspDesc[t][c].persName[i].text===r.correspDesc[a][e].persName[s].text&&(r.correspDesc[t][c].persName[i].ref=r.correspDesc[a][e].persName[s].ref)})}(i)},addPersonToPool:function(e,t,s){var r=this.getRealKey(t);if(0===this.persons.length)this.persons.push({text:this.correspDesc[r][e].persName[s].text,ref:this.correspDesc[r][e].persName[s].ref,org:this.correspDesc[r][e].persName[s].organisation});else{for(var a=!1,c=0;c<this.persons.length&&!(a=this.persons[c].text===this.correspDesc[r][e].persName[s].text);c+=1);a||this.persons.push({text:this.correspDesc[r][e].persName[s].text,ref:this.correspDesc[r][e].persName[s].ref,org:this.correspDesc[r][e].persName[s].organisation})}this.correspDesc[r][e].persName[s].open=!1},addPlaceNorm:function(e,t){var s=this,r=this.getRealKey(t);if(""!==this.correspDesc[r][e].placeName.text&&""!==this.correspDesc[r][e].placeName.ref)for(var a=0;a<this.places.length;a+=1)if(this.places[a].text===this.correspDesc[r][e].placeName.text&&this.places[a].ref!==this.correspDesc[r][e].placeName.ref){this.places[a].ref=this.correspDesc[r][e].placeName.ref;break}if(this.correspDesc[r][e].placeName.text)for(var c=0;c<this.correspDesc.length;c+=1)!function(t){s.type.forEach(function(a){for(var c=0;c<s.correspDesc[t][a].placeName.length;c+=1)s.correspDesc[t][a].placeName.text===s.correspDesc[r][e].placeName.text&&(s.correspDesc[t][a].placeName.ref=s.correspDesc[r][e].placeName.ref)})}(c)},addPlaceToPool:function(e,t){var s=this.getRealKey(t);if(0===this.places.length)this.places.push({text:this.correspDesc[s][e].placeName.text,ref:this.correspDesc[s][e].placeName.ref});else{for(var r=!1,a=0;a<this.places.length&&!(r=this.places[a].text===this.correspDesc[s][e].placeName.text);a+=1);r||this.places.push({text:this.correspDesc[s][e].placeName.text,ref:this.correspDesc[s][e].placeName.ref})}this.correspDesc[s][e].placeName.open=!1},onInput:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.getRealKey(t);r||(this.correspDesc[a][e].persName[s].selected?this.correspDesc[a][e].persName[s].selected=!1:this.correspDesc[a][e].persName[s].text.length>2&&this.persons.length>0&&(this.correspDesc[a][e].persName[s].open=!!this.correspDesc[a][e].persName[s].text,this.correspDesc[a][e].persName[s].highlighted=0===this.correspDesc[a][e].persName[s].highlighted?0:this.correspDesc[a][e].persName[s].highlighted)),r&&null!==this.correspDesc[a][e].placeName.text&&(this.correspDesc[a][e].placeName.selected?this.correspDesc[a][e].placeName.selected=!1:this.places.length>0&&(this.correspDesc[a][e].placeName.open=!!this.correspDesc[a][e].placeName.text,this.correspDesc[a][e].placeName.highlighted=0===this.correspDesc[a][e].placeName.highlighted?0:this.correspDesc[a][e].placeName.highlighted))},select:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.getRealKey(t);if(r){for(var c=this.filterNames(e,a,0,!0)[this.correspDesc[a][e].placeName.highlighted],i=0;i<this.places.length;i+=1)if(void 0!==this.places[i].text&&c===this.places[i].text){this.correspDesc[a][e].placeName.text=this.places[i].text,this.correspDesc[a][e].placeName.ref=this.places[i].ref,this.correspDesc[a][e].placeName.open=!1,this.correspDesc[a][e].placeName.selected=!0;break}}else for(var o=this.filterNames(e,a,s)[this.correspDesc[a][e].persName[s].highlighted],n=0;n<this.persons.length;n+=1)if(o===this.persons[n].text){this.correspDesc[a][e].persName[s].text=this.persons[n].text,this.correspDesc[a][e].persName[s].ref=this.persons[n].ref,this.correspDesc[a][e].persName[s].organisation=this.persons[n].org,this.correspDesc[a][e].persName[s].open=!1,this.correspDesc[a][e].persName[s].selected=!0;break}},moveUp:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=this.getRealKey(t);r?this.correspDesc[c][e].placeName.open?this.correspDesc[c][e].placeName.highlighted=this.correspDesc[c][e].placeName.highlighted-1<0?this.filterNames(e,c,0,!0).length-1:(this.correspDesc[c][e].placeName.highlighted-1)%this.filterNames(e,c,0,!0).length:a&&this.correspDesc[c][e].placeName.geo.open&&(this.correspDesc[c][e].placeName.geo.highlighted=this.correspDesc[c][e].placeName.geo.highlighted-1<0?this.correspDesc[c][e].placeName.geo.all-1:(this.correspDesc[c][e].placeName.geo.highlighted-1)%this.correspDesc[c][e].placeName.geo.all):this.correspDesc[c][e].persName[s].open&&(this.correspDesc[c][e].persName[s].highlighted=this.correspDesc[c][e].persName[s].highlighted-1<0?this.filterNames(e,c,s).length-1:(this.correspDesc[c][e].persName[s].highlighted-1)%this.filterNames(e,c,s).length)},moveDown:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=this.getRealKey(t);r?this.correspDesc[c][e].placeName.open?this.correspDesc[c][e].placeName.highlighted=(this.correspDesc[c][e].placeName.highlighted+1)%this.filterNames(e,c,0,!0).length:a&&this.correspDesc[c][e].placeName.geo.open&&(this.correspDesc[c][e].placeName.geo.highlighted=(this.correspDesc[c][e].placeName.geo.highlighted+1)%this.correspDesc[c][e].placeName.geo.all):this.correspDesc[c][e].persName[s].open&&(this.correspDesc[c][e].persName[s].highlighted=(this.correspDesc[c][e].persName[s].highlighted+1)%this.filterNames(e,c,s).length)},addPerson:function(e,t){this.correspDesc[t][e].persName.push({text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1})},rmPerson:function(e,t,s){var r=this.getRealKey(t);this.correspDesc[r][e].persName.splice(s,1);for(var a=0;a<this.correspDesc[r][e].persName.length;a+=1)this.correspDesc[r][e].persName[a].selected=!0},addCorrespDescItem:function(){this.filter.text="";for(var e=0;e<this.filteredCorrespDesc.length;e+=1)this.filteredCorrespDesc[e].visible=!1;this.correspDesc.push({id:this.nextKey,visible:!0,header:"",ref:"",refHidden:!0,key:"",bibl:0,sender:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:!1,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:!1,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0},receiver:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:!1,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:!1,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0}}),this.nextKey+=1,this.page=Math.ceil(this.correspDesc.length/10)},rmCorrespDescItem:function(e){for(var t=0;t<this.correspDesc.length;t+=1)e===this.correspDesc[t].id&&this.correspDesc.splice(t,1)},toggleAll:function(){for(var e=0;e<this.filteredCorrespDesc.length;e+=1)this.filteredCorrespDesc[e].visible=this.collapsed;this.collapsed=!this.collapsed}},computed:{filteredCorrespDesc:function(){if(""===this.filter.text)return this.correspDesc.slice(1===this.page?0:10*(this.page-1),10+(1===this.page?0:10*(this.page-1)));var e=[];if("name"===this.filter.type)for(var t=0;t<this.correspDesc.length;t+=1){for(var s=!1,r=0;r<this.correspDesc[t].sender.persName.length;r+=1)this.correspDesc[t].sender.persName[r].text.includes(this.filter.text)&&(e.push(this.correspDesc[t]),s=!0);for(var a=0;a<this.correspDesc[t].receiver.persName.length;a+=1)this.correspDesc[t].receiver.persName[a].text.includes(this.filter.text)&&(s||e.push(this.correspDesc[t]))}if("place"===this.filter.type)for(var c=0;c<this.correspDesc.length;c+=1){var i=!1;this.correspDesc[c].sender.placeName.text.includes(this.filter.text)&&(e.push(this.correspDesc[c]),i=!0),this.correspDesc[c].receiver.placeName.text.includes(this.filter.text)&&(i||e.push(this.correspDesc[c]))}if("key"===this.filter.type)for(var o=0;o<this.correspDesc.length;o+=1)this.correspDesc[o].key===this.filter.text&&e.push(this.correspDesc[o]);if("date"===this.filter.type)for(var n=0;n<this.correspDesc.length;n+=1){var l=!1;this.correspDesc[n].sender.when&&this.correspDesc[n].sender.when.includes(this.filter.text)&&(e.push(this.correspDesc[n]),l=!0),(this.correspDesc[n].sender.notBefore&&this.correspDesc[n].sender.notBefore.includes(this.filter.text)||this.correspDesc[n].sender.notAfter&&this.correspDesc[n].sender.notAfter.includes(this.filter.text)||this.correspDesc[n].sender.spanFrom&&this.correspDesc[n].sender.spanFrom.includes(this.filter.text)||this.correspDesc[n].sender.spanTo&&this.correspDesc[n].sender.spanTo.includes(this.filter.text)||this.correspDesc[n].sender.dateAsText&&this.correspDesc[n].sender.dateAsText.includes(this.filter.text))&&(l||(e.push(this.correspDesc[n]),l=!0)),(this.correspDesc[n].receiver.when&&this.correspDesc[n].receiver.when.includes(this.filter.text)||this.correspDesc[n].receiver.notBefore&&this.correspDesc[n].receiver.notBefore.includes(this.filter.text)||this.correspDesc[n].receiver.notAfter&&this.correspDesc[n].receiver.notAfter.includes(this.filter.text)||this.correspDesc[n].receiver.spanFrom&&this.correspDesc[n].receiver.spanFrom.includes(this.filter.text)||this.correspDesc[n].receiver.spanTo&&this.correspDesc[n].receiver.spanTo.includes(this.filter.text)||this.correspDesc[n].receiver.dateAsText&&this.correspDesc[n].receiver.dateAsText.includes(this.filter.text))&&(l||(e.push(this.correspDesc[n]),l=!0))}return e.slice(1===this.page?0:10*(this.page-1),10+(1===this.page?0:10*(this.page-1)))}}}},VcLD:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"save"},[s("b-container",[s("b-row",[s("b-col",[e._v("\n        "+e._s(e.label.step4Desc)+"\n      ")])],1),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-list-group",[s("b-list-group-item",{attrs:{variant:e.validate("meta")?"success":"danger"}},[e._v("\n            "+e._s(e.labels.step1)+":\n            "),e.validate("meta")?s("i",{staticClass:"fas fa-check ml-3"}):e._e(),e._v(" "),e.validate("meta")?e._e():s("i",{staticClass:"fas fa-times ml-3"})]),e._v(" "),s("b-list-group-item",{attrs:{variant:e.validate("bibl")?"success":"danger"}},[e._v("\n            "+e._s(e.labels.step2)+":\n            "),e.validate("bibl")?s("i",{staticClass:"fas fa-check ml-3"}):e._e(),e._v(" "),e.validate("bibl")?e._e():s("i",{staticClass:"fas fa-times ml-3"})]),e._v(" "),s("b-list-group-item",{attrs:{variant:e.validate("correspDesc")?"success":"danger"}},[e._v("\n            "+e._s(e.labels.step3)+":\n            "),e.validate("correspDesc")?s("i",{staticClass:"fas fa-check ml-3"}):e._e(),e._v(" "),e.validate("correspDesc")?e._e():s("i",{staticClass:"fas fa-times ml-3"}),e._v(" "),!e.validate("correspDesc",!0)&&e.getInvalidCorrespDesc.length>1?s("ul",e._l(e.getInvalidCorrespDesc,function(t,r){return s("li",{key:r,staticClass:"d-block"},[e._v("\n              "+e._s(t.id)+": [Key: "+e._s(t.key)+"] "+e._s(e.label.headBy)+" "+e._s(t.from)+" "+e._s(e.label.headTo)+" "+e._s(t.to)+"\n              ")])})):e._e()])],1)],1)],1),e._v(" "),e.validate("meta")&&e.validate("bibl")&&e.validate("correspDesc")?s("b-row",[s("b-col",{staticClass:"mt-3"},[s("b-button",{staticClass:"text-white btn-block",attrs:{href:e.downloadLink,size:"lg",download:e.downloadFileName.json}},[e._v(e._s(e.label.download))])],1)],1):e._e()],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},WZIh:function(e,t){},XjZf:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"start"},[s("b-container",[s("b-row",[s("b-col",[s("h3",[e._v(e._s(e.label.head1))]),e._v("\n        "+e._s(e.label.startDesc)+"\n      ")])],1),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("h4",[e._v(e._s(e.label.startNew))]),e._v(" "),this.$parent.metaData.title?e._e():s("b-button",{staticClass:"btn-block",on:{click:e.startNew}},[e._v(e._s(e.label.start))]),e._v(" "),this.$parent.metaData.title?s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalStartNew",modifiers:{modalStartNew:!0}}],staticClass:"btn-block"},[e._v(e._s(e.label.start))]):e._e(),e._v(" "),this.$parent.metaData.title?s("b-modal",{ref:"modal",attrs:{id:"modalStartNew",title:e.label.alertrestarthead},on:{ok:e.startNew}},[s("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.label.alertrestart))])],1):e._e()],1),e._v(" "),s("b-col",[s("h4",[e._v(e._s(e.label.loadJson))]),e._v(" "),s("b-form-file",{attrs:{accept:".xml, .json"},on:{input:e.load},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)],1)],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},Z0ZQ:function(e,t,s){"use strict";var r=s("qFte"),a=s("VcLD"),c=s("VU/8"),i=c(r.a,a.a,!1,null,null,null);t.a=i.exports},gDWM:function(e,t,s){"use strict";var r=s("pFYg"),a=s.n(r);t.a={name:"start",props:{labels:{type:Object,default:function(){return{}}},pArrays:{type:Object,twoWays:!0,default:function(){return{persons:[],places:[]}}}},data:function(){return{file:"",label:this.labels,persons:this.pArrays.persons,places:this.pArrays.places,beginAnew:!1}},methods:{startNew:function(){this.$parent.nav="meta",this.$parent.metaData={title:"",editor:{name:"",email:""},publisher:{name:"",url:""},url:"",licence:""},this.$parent.biblData=[{id:0,uuid:"",type:null,url:"",text:"",selected:""}],this.$parent.correspDescData=[{id:0,visible:!0,header:"",ref:"",refHidden:!0,key:"",bibl:0,sender:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0},receiver:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0}}]},load:function(){var e=this,t=new FileReader;t.onload=function(){if("xml"===e.file.name.split(".").pop()){var s=new XMLHttpRequest;s.open("POST","https://correspSearch.net/api/v1.1/converter/xml2json.xql?xml-data="+t.result),s.onload=function(){if(200===s.status){var t=JSON.parse(s.responseText);e.loadJsonToFileDesc(t.teiHeader.fileDesc),e.loadJsonToBibl(t.teiHeader.fileDesc.sourceDesc.bibl),e.loadJsonToCorrespDesc(t.teiHeader.profileDesc.correspDesc),e.$parent.navigate("meta")}else console.info(s.status)},s.send()}else{var r=JSON.parse(t.result);e.loadJsonToFileDesc(r.teiHeader.fileDesc),e.loadJsonToBibl(r.teiHeader.fileDesc.sourceDesc.bibl),e.loadJsonToCorrespDesc(r.teiHeader.profileDesc.correspDesc),e.$parent.navigate("meta")}},t.readAsText(this.file)},loadJsonToFileDesc:function(e){this.$parent.metaData.title=e.titleStmt.title?e.titleStmt.title:"",this.$parent.metaData.editor.name=e.titleStmt.editor?e.titleStmt.editor["#text"]:"",this.$parent.metaData.editor.email=e.titleStmt.editor?e.titleStmt.editor.email:"",e.publicationStmt.publisher&&e.publicationStmt.publisher.ref&&e.publicationStmt.publisher.ref["#text"]?(this.$parent.metaData.publisher.name=e.publicationStmt.publisher&&e.publicationStmt.publisher.ref?e.publicationStmt.publisher.ref["#text"]:"",this.$parent.metaData.publisher.url=e.publicationStmt.publisher&&e.publicationStmt.publisher.ref?e.publicationStmt.publisher.ref.target:""):(this.$parent.metaData.publisher.name=e.publicationStmt.publisher?e.publicationStmt.publisher.ref:"",this.$parent.metaData.publisher.url=""),this.$parent.metaData.idno=e.publicationStmt.idno?e.publicationStmt.idno["#text"]:"",this.$parent.metaData.date=e.publicationStmt.date?e.publicationStmt.date.when:"",this.$parent.metaData.licence=e.publicationStmt.availability?e.publicationStmt.availability.licence["#text"]:""},loadJsonToBibl:function(e){this.$parent.biblData=[];for(var t=0;t<e.length;t+=1)this.$parent.biblData.push({id:t,uuid:void 0===e[t]["xml:id"]?"":e[t]["xml:id"],type:void 0===e[t].type?"":e[t].type,url:void 0===e[t].ref?"":e[t].ref.target,text:void 0===e[t]["#text"]?"":e[t]["#text"],selected:!1})},loadJsonToCorrespDesc:function(e){var t=this;this.$parent.correspDescData=[];for(var s=0;s<e.length;s+=1)!function(s){var r={};["sender","receiver"].forEach(function(t){var a="sender"===t?0:1;e[s]&&e[s].correspAction&&e[s].correspAction[a]&&e[s].correspAction[a].date?e[s].correspAction[a].date.when?r[t]="when":e[s].correspAction[a].date.notBefore?r[t]="nba":e[s].correspAction[a].date.from?r[t]="span":r[t]="na":r[t]="na"});var c={};["sender","receiver"].forEach(function(t){var r="sender"===t?0:1;e[s]&&e[s].correspAction&&e[s].correspAction[r]&&e[s].correspAction[r].placeName&&(c[t]=e[s].correspAction[r].placeName["#text"]?e[s].correspAction[r].placeName["#text"]:e[s].correspAction[r].placeName)});var i={sender:[],receiver:[]};["sender","receiver"].forEach(function(t){var r="sender"===t?0:1;["orgName","persName"].forEach(function(c){e[s]&&e[s].correspAction&&e[s].correspAction[r]&&e[s].correspAction[r][c]&&("object"===a()(e[s].correspAction[r][c])?e[s].correspAction[r][c]["#text"]?i[t].push({text:e[s].correspAction[r][c]["#text"],ref:e[s].correspAction[r][c].ref,conjecture:"conjecture"===e[s].correspAction[r][c].evidence,uncertain:"low"===e[s].correspAction[r][c].cert,organisation:"orgName"===c,open:!1,highlighted:0,selected:!1}):e[s].correspAction[r][c].forEach(function(a){i[t].push({text:a["#text"]?a["#text"]:a,ref:e[s].correspAction[r][c][a]?e[s].correspAction[r][c][a].ref:"",conjecture:e[s].correspAction[r][c][a]&&"conjecture"===e[s].correspAction[r][c][a].evidence,uncertain:e[s].correspAction[r][c][a]&&"low"===e[s].correspAction[r][c][a].cert,organisation:"orgName"===c,open:!1,highlighted:0,selected:!1})}):"string"==typeof e[s].correspAction[r][c]&&i[t].push({text:e[s].correspAction[r][c],ref:"",conjecture:!1,uncertain:!1,organisation:"orgName"===c,open:!1,highlighted:0,selected:!1}))})}),["sender","receiver"].forEach(function(e){for(var s=0;s<i[e].length;s+=1){var r=!1;if(0===t.persons.length)t.persons.push(i[e][s]);else{for(var a=0;a<t.persons.length&&!(r=i[e][s].text===t.persons[a].text);a+=1);r||t.persons.push(i[e][s])}}}),["sender","receiver"].forEach(function(r){var a="sender"===r?0:1,i=!1;if(c[r])if(0===t.places.length)t.places.push({text:c[r],ref:e[s]&&e[s].correspAction&&e[s].correspAction[a]&&e[s].correspAction[a].placeName?e[s].correspAction[a].placeName.ref:""});else{for(var o=0;o<t.places.length&&!(i=c[r]===t.places[o].text);o+=1);i||t.places.push({text:c[r],ref:e[s]&&e[s].correspAction&&e[s].correspAction[a]&&e[s].correspAction[a].placeName?e[s].correspAction[a].placeName.ref:""})}});var o="";o=e[s].key?'<span class="badge badge-info mr-1">'+e[s].key+"</span>":"",o+=i.sender[0].text?'<span class="badge badge-secondary mr-1">'+t.label.headBy+'</span><small class="mr-2 ml-1">'+i.sender[0].text+"</small>":"",o+=i.receiver[0].text?'<span class="badge badge-secondary mr-1">'+t.label.headTo+'</span><small class="mr-2 ml-1">'+i.receiver[0].text+"</small>":"",t.$parent.correspDescData.push({id:s,visible:!0,header:o,ref:e[s]&&e[s].ref?e[s].ref:"",refHidden:!(e[s]&&e[s].ref),key:e[s]?e[s].key:"",bibl:t.getRealBibId(e[s].source.replace("#","")),sender:{persName:i.sender,placeName:{text:c.sender,ref:e[s]&&e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].placeName&&e[s].correspAction[0].placeName.ref?e[s].correspAction[0].placeName.ref:"",conjecture:e[s]&&e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].placeName&&"conjecture"===e[s].correspAction[0].placeName.evidence,uncertain:e[s]&&e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].placeName&&"low"===e[s].correspAction[0].placeName.cert,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:0,suggestions:[],all:0}},date:r.sender,dateCert:{conjecture:e[s]&&e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&"conjecture"===e[s].correspAction[0].date.evidence,uncertain:e[s]&&e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&"low"===e[s].correspAction[0].date.cert},when:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date.when?e[s].correspAction[0].date.when:"",notBefore:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date.notBefore?e[s].correspAction[0].date.notBefore:"",notAfter:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date.notAfter?e[s].correspAction[0].date.notAfter:"",spanFrom:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date.from?e[s].correspAction[0].date.from:"",spanTo:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date.to?e[s].correspAction[0].date.to:"",dateAsText:e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date?e[s].correspAction[0].date["#text"]:"",dateAsTextHidden:!(e[s].correspAction&&e[s].correspAction[0]&&e[s].correspAction[0].date&&e[s].correspAction[0].date["#text"])},receiver:{persName:i.receiver,placeName:{text:c.receiver,ref:e[s]&&e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].placeName&&e[s].correspAction[1].placeName.ref?e[s].correspAction[1].placeName.ref:"",conjecture:e[s]&&e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].placeName&&"conjecture"===e[s].correspAction[1].placeName.evidence,uncertain:e[s]&&e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].placeName&&"low"===e[s].correspAction[1].placeName.cert,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:0,suggestions:[],all:0}},date:r.receiver,dateCert:{conjecture:e[s]&&e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&"conjecture"===e[s].correspAction[1].date.evidence,uncertain:e[s]&&e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&"low"===e[s].correspAction[1].date.cert},when:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date.when?e[s].correspAction[1].date.when:"",notBefore:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date.notBefore?e[s].correspAction[1].date.notBefore:"",notAfter:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date.notAfter?e[s].correspAction[1].date.notAfter:"",spanFrom:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date.from?e[s].correspAction[1].date.from:"",spanTo:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date.to?e[s].correspAction[1].date.to:"",dateAsText:e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date?e[s].correspAction[1].date["#text"]:"",dateAsTextHidden:!(e[s].correspAction&&e[s].correspAction[1]&&e[s].correspAction[1].date&&e[s].correspAction[1].date["#text"])}})}(s)},getRealBibId:function(e){for(var t="",s=0;s<this.$parent.biblData.length;s+=1){t=this.$parent.biblData[s].uuid===e?s:0;break}return t}}}},"kQ+j":function(e,t,s){"use strict";var r=s("Pz0K"),a=s("EybB"),c=s("VU/8"),i=c(r.a,a.a,!1,null,null,null);t.a=i.exports},kiOB:function(e,t,s){"use strict";var r=s("Pjk3"),a=s("JpHu"),c=s("VU/8"),i=c(r.a,a.a,!1,null,null,null);t.a=i.exports},qFte:function(e,t,s){"use strict";var r=s("fZjL"),a=s.n(r),c=s("pFYg"),i=s.n(c),o=s("W3Iv"),n=s.n(o),l=s("mvHQ"),p=s.n(l);t.a={name:"save",props:{labels:{type:Object,default:function(){return{}}},metaData:{type:Object,default:function(){return{title:"",editor:{name:"",email:""},publisher:{name:"",url:""},url:"",licence:""}}},biblData:{type:Array,default:function(){return{id:0,uuid:"",type:null,url:"",text:"",selected:""}}},correspDescData:{type:Array,default:function(){return{id:0,header:"",ref:"",refHidden:!0,key:"",bibl:0,sender:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:0,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0},receiver:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:0,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0}}}}},data:function(){return{label:this.labels,meta:this.metaData,bibl:this.biblData,correspDesc:this.correspDescData,downloadLink:"",downloadFileName:{json:"",xml:""},correspDescFails:[]}},methods:{validate:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={meta:!1,bibl:!1,correspDesc:!1};switch(e){case"meta":""!==this.meta.title&&""!==this.meta.editor.name&&""!==this.meta.editor.email&&this.$parent.check("email",this.meta.editor.email)&&""!==this.meta.publisher.name&&""!==this.meta.licence&&(r.meta=!0);break;case"bibl":if(this.bibl.length>0)for(var a=0;a<this.bibl.length;a+=1)null!==this.bibl[a].type&&""!==this.bibl[a].text&&(""===this.bibl[a].url||this.$parent.check("url",this.bibl[a].url)||"online"!==this.bibl[a].type?r.bibl=!0:r.bibl=!1);break;case"correspDesc":for(var c=!0,i=0;i<this.correspDesc.length;i+=1)!function(e){if(""===t.correspDesc[e].ref||t.$parent.check("url",t.correspDesc[e].ref)||(c=!1),["sender","receiver"].forEach(function(s){for(var r=0;r<t.correspDesc[e][s].persName.length;r+=1)""===t.correspDesc[e][s].persName[r].ref||t.$parent.check("person",t.correspDesc[e][s].persName[r].ref)||(c=!1);""===t.correspDesc[e][s].placeName.ref||t.$parent.check("place",t.correspDesc[e][s].placeName.ref)||(c=!1),"when"!==t.correspDesc[e][s].date||""===t.correspDesc[e][s].when||t.$parent.check("date",t.correspDesc[e][s].when)||(c=!1),"nba"===t.correspDesc[e][s].date&&(""!==t.correspDesc[e][s].notBefore&&!t.$parent.check("date",t.correspDesc[e][s].notBefore)||""!==t.correspDesc[e][s].notAfter&&!t.$parent.check("date",t.correspDesc[e][s].notAfter))&&(c=!1),"span"!==t.correspDesc[e][s].date||""===t.correspDesc[e][s].spanFrom&&""===t.correspDesc[e][s].spanTo||t.$parent.check("date",t.correspDesc[e][s].spanFrom)&&t.$parent.check("date",t.correspDesc[e][s].spanTo)||(c=!1)}),!c&&s){for(var r=!1,a=0;a<t.correspDescFails.length;a+=1)if(t.correspDescFails[a]===e){r=!0;break}r||t.correspDescFails.push(e)}}(i);r.correspDesc=c;break;default:r={meta:!1,bibl:!1,correspDesc:!1}}return r[e]},prepare:function(){var e=this,t={teiHeader:{fileDesc:{titleStmt:{title:null,editor:{"#text":null,email:null}},publicationStmt:{publisher:{ref:{target:null,"#text":null}},idno:{type:null,"#text":null},date:{when:null},availability:{licence:{target:null,"#text":null}}},sourceDesc:{bibl:[]}},profileDesc:{correspDesc:[]}}};if(this.validate("meta")&&this.validate("bibl")&&this.validate("correspDesc")){var s=new Date,r=s.getTimezoneOffset()/60,a="";r>-10&&r<10?(a=String(r),a=a.includes("-")?a.replace("-","-0"):a="0"+a):a=String(r);var c=s.getFullYear()+"-";c+=("0"+(s.getMonth()+1)).slice(-2)+"-",c+=("0"+(s.getDate()+1)).slice(-2)+"T",c+=("0"+(s.getHours()+1)).slice(-2)+":",c+=("0"+(s.getMinutes()+1)).slice(-2)+":",c+=("0"+(s.getSeconds()+1)).slice(-2)+".",c+=s.getMilliseconds(),c+=a+":00",t.teiHeader.fileDesc.titleStmt={title:this.meta.title,editor:{"#text":this.meta.editor.name,email:this.meta.editor.email}},t.teiHeader.fileDesc.publicationStmt={publisher:{ref:{"#text":this.meta.publisher.name,target:this.meta.publisher.url}},idno:{type:this.meta.url?"url":null,"#text":this.meta.url},availability:{licence:{"#text":"CC0"===this.meta.licence||"CC-BY 4.0"===this.meta.licence?this.meta.licence:null,target:"https://creativecommons.org/licenses/by/"+this.meta.licence.match(/[0-9]\.[0-9]/g)+"/"}},date:{when:c}};for(var i=0;i<this.bibl.length;i+=1)t.teiHeader.fileDesc.sourceDesc.bibl.push({"xml:id":this.bibl[i].uuid,type:this.bibl[i].type,"#text":this.bibl[i].text,ref:{target:this.bibl[i].url,"#text":this.bibl[i].url}});for(var o=0;o<this.correspDesc.length;o+=1)!function(s){var r={sender:[],receiver:[]},a={sender:[],receiver:[]},c={sender:[],receiver:[]};["sender","receiver"].forEach(function(t){for(var c=0;c<e.correspDesc[s][t].persName.length;c+=1)e.correspDesc[s][t].persName[c].ref||e.correspDesc[s][t].persName[c].conjecture||e.correspDesc[s][t].persName[c].uncertain?e.correspDesc[s][t].persName[c].organisation?a[t].push({"#text":e.correspDesc[s][t].persName[c].text,ref:e.correspDesc[s][t].persName[c].ref,evidence:e.correspDesc[s][t].persName[c].conjecture?"conjecture":null,cert:e.correspDesc[s][t].persName[c].uncertain?"low":null}):r[t].push({"#text":e.correspDesc[s][t].persName[c].text,ref:e.correspDesc[s][t].persName[c].ref,evidence:e.correspDesc[s][t].persName[c].conjecture?"conjecture":null,cert:e.correspDesc[s][t].persName[c].uncertain?"low":null}):e.correspDesc[s][t].persName[c].organisation?a[t].push(e.correspDesc[s][t].persName[c].text):r[t].push(e.correspDesc[s][t].persName[c].text);r[t]=1===r[t].length?r[t][0]:r[t],a[t]=1===a[t].length?a[t][0]:a[t]}),["sender","receiver"].forEach(function(t){e.correspDesc[s][t].placeName.ref||e.correspDesc[s][t].placeName.conjecture||e.correspDesc[s][t].placeName.uncertain?c[t]={"#text":e.correspDesc[s][t].placeName.text,ref:e.correspDesc[s][t].placeName.ref,evidence:e.correspDesc[s][t].placeName.conjecture?"conjecture":null,cert:e.correspDesc[s][t].placeName.uncertain?"low":null}:c[t]=e.correspDesc[s][t].placeName.text}),t.teiHeader.profileDesc.correspDesc.push({source:"#"+e.getUuid(e.correspDesc[s].bibl),ref:e.correspDesc[s].ref,key:e.correspDesc[s].key,correspAction:[{type:"sent",persName:r.sender,orgName:a.sender,placeName:c.sender,date:{when:"when"===e.correspDesc[s].sender.date?e.correspDesc[s].sender.when:null,from:"span"===e.correspDesc[s].sender.date?e.correspDesc[s].sender.spanFrom:null,to:"span"===e.correspDesc[s].sender.date?e.correspDesc[s].sender.spanTo:null,notBefore:"nba"===e.correspDesc[s].sender.date?e.correspDesc[s].sender.notBefore:null,notAfter:"nba"===e.correspDesc[s].sender.date?e.correspDesc[s].sender.notAfter:null,"#text":e.correspDesc[s].sender.dateAsText,cert:e.correspDesc[s].sender.dateCert.uncertain?"low":null,evidence:e.correspDesc[s].sender.dateCert.conjecture?"conjecture":null}},{type:"received",persName:r.receiver,orgName:a.receiver,placeName:c.receiver,date:{when:"when"===e.correspDesc[s].receiver.date?e.correspDesc[s].receiver.when:null,from:"span"===e.correspDesc[s].receiver.date?e.correspDesc[s].receiver.spanFrom:null,to:"span"===e.correspDesc[s].receiver.date?e.correspDesc[s].receiver.spanTo:null,notBefore:"nba"===e.correspDesc[s].receiver.date?e.correspDesc[s].receiver.notBefore:null,notAfter:"nba"===e.correspDesc[s].receiver.date?e.correspDesc[s].receiver.notAfter:null,"#text":e.correspDesc[s].receiver.dateAsText,cert:e.correspDesc[s].receiver.dateCert.uncertain?"low":null,evidence:e.correspDesc[s].receiver.dateCert.conjecture?"conjecture":null}}]})}(o);t=this.clear(t);var n=new XMLHttpRequest,l="";n.open("POST","https://correspSearch.net/api/v1.1/converter/json2xml.xql?json-data="+p()(t)),n.onload=function(t){if(200===n.status){var s=new XMLSerializer;l=s.serializeToString(t),e.downloadLink="data:text/xml;charset=utf-8,"+encodeURIComponent(l)}else console.info(n.status)},n.send(),this.downloadFileName={json:this.meta.title.replace(/ /g,"_")+"-"+c+".json",xml:this.meta.title.replace(/ /g,"_")+"-"+c+".xml"},l||(this.downloadLink="data:text/json;charset=utf-8,"+encodeURIComponent(p()(t)))}},clear:function(e){var t=this,s=e;return n()(s).forEach(function(e){s[e[0]]&&"object"===i()(s[e[0]])?(t.clear(s[e[0]]),0===a()(s[e[0]]).length&&delete s[e[0]]):""!==s[e[0]]&&null!==s[e[0]]||delete s[e[0]]}),s},getUuid:function(e){for(var t=0;t<this.bibl.length;t+=1)if(this.bibl[t].id===e)return this.bibl[t].uuid;return 0}},mounted:function(){this.prepare(),console.log(this.correspDescFails)},computed:{getInvalidCorrespDesc:function(){for(var e=[],t=0;t<this.correspDescFails.length;t+=1)e.push({key:this.correspDesc[this.correspDescFails[t]].key?this.correspDesc[this.correspDescFails[t]].key:null,id:this.correspDesc[this.correspDescFails[t]].id,from:this.correspDesc[this.correspDescFails[t]].sender.persName[0].text,to:this.correspDesc[this.correspDescFails[t]].receiver.persName[0].text});return e}}}},qb6w:function(e,t){},t9NC:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("b-nav",{staticClass:"ml-0",attrs:{tabs:""}},[s("b-nav-item",{attrs:{active:"start"===e.nav},on:{click:function(t){e.nav="start"}}},[e._v(e._s(e.labels.start))]),e._v(" "),s("b-nav-item",{attrs:{active:"meta"===e.nav},on:{click:function(t){e.nav="meta"}}},[e._v(e._s(e.labels.step1))]),e._v(" "),s("b-nav-item",{attrs:{active:"bibl"===e.nav},on:{click:function(t){e.nav="bibl"}}},[e._v(e._s(e.labels.step2))]),e._v(" "),s("b-nav-item",{attrs:{active:"correspDesc"===e.nav},on:{click:function(t){e.nav="correspDesc"}}},[e._v(e._s(e.labels.step3))]),e._v(" "),s("b-nav-item",{attrs:{active:"save"===e.nav},on:{click:function(t){e.nav="save"}}},[e._v(e._s(e.labels.step4))])],1),e._v(" "),s("div",{staticClass:"container pt-5 pb-5 bg-white"},["start"===e.nav?s("start",{attrs:{labels:e.labels,pArrays:e.pArrays}}):e._e(),e._v(" "),"meta"===e.nav?s("metaData",{attrs:{labels:e.labels,metaData:e.metaData}}):e._e(),e._v(" "),"bibl"===e.nav?s("biblData",{attrs:{labels:e.labels,biblData:e.biblData}}):e._e(),e._v(" "),"correspDesc"===e.nav?s("correspDescData",{attrs:{labels:e.labels,correspDescData:e.correspDescData,pArrays:e.pArrays}}):e._e(),e._v(" "),"save"===e.nav?s("save",{attrs:{labels:e.labels,metaData:e.metaData,biblData:e.biblData,correspDescData:e.correspDescData}}):e._e()],1)],1)},a=[],c={render:r,staticRenderFns:a};t.a=c},xJD8:function(e,t,s){"use strict";var r=s("8Mze"),a=s("kiOB"),c=s("AfhI"),i=s("kQ+j"),o=s("Z0ZQ");t.a={name:"app",data:function(){return{labels:{start:""},nav:"start",metaData:{title:"",editor:{name:"",email:""},publisher:{name:"",url:""},url:"",licence:""},biblData:[{id:0,uuid:"",type:null,url:"",text:"",selected:""}],pArrays:{persons:[],places:[]},correspDescData:[{id:0,visible:!0,header:"",ref:"",refHidden:!0,key:"",bibl:0,sender:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0},receiver:{persName:[{text:"",ref:"",conjecture:!1,uncertain:!1,organisation:!1,open:!1,highlighted:0,selected:!1}],placeName:{text:"",ref:"",conjecture:!1,uncertain:!1,open:!1,highlighted:0,selected:!1,geo:{open:!1,highlighted:!1,suggestions:[],all:0}},date:"",dateCert:{conjecture:!1,uncertain:!1},when:"",notBefore:"",notAfter:"",spanFrom:"",spanTo:"",dateAsText:"",dateAsTextHidden:!0}}]}},components:{start:r.a,metaData:a.a,biblData:c.a,correspDescData:i.a,save:o.a},methods:{navigate:function(e){this.nav=e},check:function(e,t){var s=new RegExp;switch(e){case"url":return s=new RegExp(/^http(s)?\:\/\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi),s.test(t);case"email":return s=new RegExp(/^[a-zA-Z0-9.!#$%&*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),s.test(t);case"person":return s=new RegExp(/^(http(s)?\:\/\/d\-nb\.info\/gnd\/?)|^(http(s)?\:\/\/viaf\.org\/viaf\/?)|^(http(s)?\:\/\/catalogue\.bnf\.fr\/?)|^(http(s)?\:\/\/lccn\.loc\.gov\/?)/g),s.test(t);case"place":return s=new RegExp(/^http\:\/\/www\.geonames\.org\/?/g),s.test(t);case"date":return s=new RegExp(/^(([0-1][0-9][0-9][0-9])$)|^(([0-1][0-9][0-9][0-9])\-([0]{0,1})([1-9]|[1][0-2])$)|^(([0-1][0-9][0-9][0-9])\-([0]{0,1})([1-9]|[1][0-2])\-([0-9][1-9]|[1-2][0-9]|[3][0-1])$)/g),s.test(t);default:return!1}}},beforeCreate:function(){var e=this,t=new XMLHttpRequest;t.open("GET","/static/labels.xml"),t.onload=function(){if(200===t.status){for(var s=new DOMParser,r=s.parseFromString(t.responseText,"application/xml"),a=new URL(window.location.href),c=a.searchParams.get("l"),i="en"!==c&&"de"!==c?"de":c,o=0;o<r.children[0].children.length;o+=1)if(r.children[0].children[o].attributes[0].value===String(i))for(var n=0;n<r.children[0].children[o].children.length;n+=1)e.labels[r.children[0].children[o].children[n].attributes[0].value]=r.children[0].children[o].children[n].innerHTML}else console.info(t.status)},t.send()}}},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map